- üëã Hi, I‚Äôm @temerlan123
- üëÄ I‚Äôm interested in ...
- üå± I‚Äôm currently learning ...
- üíûÔ∏è I‚Äôm looking to collaborate on ...
- üì´ How to reach me ...

def record_and_recognize_audio(*args: tuple):
    """
    –ó–∞–ø–∏—Å—å –∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∞—É–¥–∏–æ
    """
    with microphone:
        recognized_data = ""

        # —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è –æ–∫—Ä—É–∂–∞—é—â–µ–≥–æ —à—É–º–∞
        recognizer.adjust_for_ambient_noise(microphone, duration=2)

        try:
            print("Listening...")
            audio = recognizer.listen(microphone, 5, 5)

        except speech_recognition.WaitTimeoutError:
            print("Can you check if your microphone is on, please?")
            return

        # –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ online-—Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ Google 
        try:
            print("Started recognition...")
            recognized_data = recognizer.recognize_google(audio, language="ru").lower()

        except speech_recognition.UnknownValueError:
            pass

        # –≤ —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º —Å –¥–æ—Å—Ç—É–ø–æ–º –≤ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã–±—Ä–æ—Å –æ—à–∏–±–∫–∏
        except speech_recognition.RequestError:
            print("Check your Internet Connection, please")

        return recognized_dataconfig = {
    "intents": {
        "greeting": {
            "examples": ["–ø—Ä–∏–≤–µ—Ç", "–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π", "–¥–æ–±—Ä—ã–π –¥–µ–Ω—å",
                         "hello", "good morning"],
            "responses": play_greetings
        },
        "farewell": {
            "examples": ["–ø–æ–∫–∞", "–¥–æ —Å–≤–∏–¥–∞–Ω–∏—è", "—É–≤–∏–¥–∏–º—Å—è", "–¥–æ –≤—Å—Ç—Ä–µ—á–∏",
                         "goodbye", "bye", "see you soon"],
            "responses": play_farewell_and_quit
        },
        "google_search": {
            "examples": ["–Ω–∞–π–¥–∏ –≤ –≥—É–≥–ª",
                         "search on google", "google", "find on google"],
            "responses": search_for_term_on_google
        },
    },
    "failure_phrases": play_failure_phrase
}

–¢–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –ø–æ–¥–æ–π–¥—ë—Ç —Ç–µ–º, –∫—Ç–æ —Ö–æ—á–µ—Ç –Ω–∞—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –Ω–∞ —Ç–æ, —á—Ç–æ–±—ã –æ–Ω –æ—Ç–≤–µ—á–∞–ª –Ω–∞ —Å–ª–æ–∂–Ω—ã–µ —Ñ—Ä–∞–∑—ã. –ë–æ–ª–µ–µ —Ç–æ–≥–æ, –∑–¥–µ—Å—å –º–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å NLU-–ø–æ–¥—Ö–æ–¥ –∏ —Å–æ–∑–¥–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—É–≥–∞–¥—ã–≤–∞—Ç—å –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–≤–µ—Ä—è—è –∏—Ö —Å —Ç–µ–º–∏, —á—Ç–æ —É–∂–µ –µ—Å—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

–ü–æ–¥—Ä–æ–±–Ω–æ —ç—Ç–æ—Ç —Å–ø–æ—Å–æ–± –º—ã –µ–≥–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –Ω–∞ 5 —à–∞–≥–µ –¥–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç—å–∏. –ê –ø–æ–∫–∞ –æ–±—Ä–∞—â—É –≤–∞—à–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–π –≤–∞—Ä–∏–∞–Ω—Ç

2 —Å–ø–æ—Å–æ–±

–ú–æ–∂–Ω–æ –≤–∑—è—Ç—å —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–ª—é—á–µ–π –±—É–¥–µ—Ç hashable-—Ç–∏–ø tuple (–ø–æ—Å–∫–æ–ª—å–∫—É —Å–ª–æ–≤–∞—Ä–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ö—ç—à–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤), –∞ –≤ –≤–∏–¥–µ –∑–Ω–∞—á–µ–Ω–∏–π –±—É–¥—É—Ç –Ω–∞–∑–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è. –î–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö –∫–æ–º–∞–Ω–¥ –ø–æ–¥–æ–π–¥—ë—Ç –≤–æ—Ç —Ç–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç:

commands = {
    ("hello", "hi", "morning", "–ø—Ä–∏–≤–µ—Ç"): play_greetings,
    ("bye", "goodbye", "quit", "exit", "stop", "–ø–æ–∫–∞"): play_farewell_and_quit,
    ("search", "google", "find", "–Ω–∞–π–¥–∏"): search_for_term_on_google,
    ("video", "youtube", "watch", "–≤–∏–¥–µ–æ"): search_for_video_on_youtube,
    ("wikipedia", "definition", "about", "–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ", "–≤–∏–∫–∏–ø–µ–¥–∏—è"): search_for_definition_on_wikipedia,
    ("translate", "interpretation", "translation", "–ø–µ—Ä–µ–≤–æ–¥", "–ø–µ—Ä–µ–≤–µ—Å—Ç–∏", "–ø–µ—Ä–µ–≤–µ–¥–∏"): get_translation,
    ("language", "—è–∑—ã–∫"): change_language,
    ("weather", "forecast", "–ø–æ–≥–æ–¥–∞", "–ø—Ä–æ–≥–Ω–æ–∑"): get_weather_forecast,
}

–î–ª—è –µ–≥–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç—å –∫–æ–¥ —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

def execute_command_with_name(command_name: str, *args: list):
    """
    –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–Ω–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∫–æ–º–∞–Ω–¥—ã —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏
    :param command_name: –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
    :param args: –∞—Ä–≥—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –ø–µ—Ä–µ–¥–∞–Ω—ã –≤ —Ñ—É–Ω–∫—Ü–∏—é
    :return:
    """
    for key in commands.keys():
        if command_name in key:
            commands[key](*args)
        else:
            pass  # print("Command not found")


if __name__ == "__main__":

    # –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –∏ –≤–≤–æ–¥–∞ —Ä–µ—á–∏
    recognizer = speech_recognition.Recognizer()
    microphone = speech_recognition.Microphone()

    while True:
        # —Å—Ç–∞—Ä—Ç –∑–∞–ø–∏—Å–∏ —Ä–µ—á–∏ —Å –ø–æ—Å–ª–µ–¥—É—é—â–∏–º –≤—ã–≤–æ–¥–æ–º —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω–æ–π —Ä–µ—á–∏
        # –∏ —É–¥–∞–ª–µ–Ω–∏–µ–º –∑–∞–ø–∏—Å–∞–Ω–Ω–æ–≥–æ –≤ –º–∏–∫—Ä–æ—Ñ–æ–Ω –∞—É–¥–∏–æ
        voice_input = record_and_recognize_audio()
        os.remove("microphone-results.wav")
        print(voice_input)

        # –æ—Ç–¥–µ–ª–µ–Ω–∏–µ –∫–æ–º–º–∞–Ω–¥ –æ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤)
        voice_input = voice_input.split(" ")
        command = voice_input[0]
        command_options = [str(input_part) for input_part in voice_input[1:len(voice_input)]]
        execute_command_with_name(command, command_options)def search_for_video_on_youtube(*args: tuple):
    """
    –ü–æ–∏—Å–∫ –≤–∏–¥–µ–æ –Ω–∞ YouTube —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ—Ç–∫—Ä—ã—Ç–∏–µ–º —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–ø–∏—Å–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    :param args: —Ñ—Ä–∞–∑–∞ –ø–æ–∏—Å–∫–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
    """
    if not args[0]: return
    search_term = " ".join(args[0])
    url = "https://www.youtube.com/results?search_query=" + search_term
    webbrowser.get().open(url)

    # –¥–ª—è –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω—ã—Ö –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤ –ª—É—á—à–µ —Å–æ–∑–¥–∞—Ç—å 
    # –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –±—Ä–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥ –∏–∑ JSON-—Ñ–∞–π–ª–∞
    play_voice_assistant_speech("Here is what I found for " + search_term + "on youtube")
    
  "Can you check if your microphone is on, please?": {
    "ru": "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –º–∏–∫—Ä–æ—Ñ–æ–Ω –≤–∫–ª—é—á–µ–Ω",
    "en": "Can you check if your microphone is on, please?"
  },
  "What did you say again?": {
    "ru": "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–≤—Ç–æ—Ä–∏",
    "en": "What did you say again?"
  },
}class Translation:
    """
    –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—à–∏—Ç–æ–≥–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–∞ —Å—Ç—Ä–æ–∫ –¥–ª—è 
    —Å–æ–∑–¥–∞–Ω–∏—è –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ–≥–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞
    """
    with open("translations.json", "r", encoding="UTF-8") as file:
        translations = json.load(file)


    def get(self, text: str):
        """
        –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–∞ —Å—Ç—Ä–æ–∫–∏ –∏–∑ —Ñ–∞–π–ª–∞ –Ω–∞ –Ω—É–∂–Ω—ã–π —è–∑—ã–∫ (–ø–æ –µ–≥–æ –∫–æ–¥—É)
        :param text: —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–≤–µ—Å—Ç–∏
        :return: –≤—à–∏—Ç—ã–π –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞
        """
        if text in self.translations:
            return self.translations[text][assistant.speech_language]
        else:
            # –≤ —Å–ª—É—á–∞–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã–≤–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏—è 
            # –æ–± —ç—Ç–æ–º –≤ –ª–æ–≥–∞—Ö –∏ –≤–æ–∑–≤—Ä–∞—Ç –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
            print(colored("Not translated phrase: {}".format(text), "red"))
            return textplay_voice_assistant_speech(translator.get(
    "Here is what I found for {} on Wikipedia").format(search_term))def prepare_corpus():
    """
    –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–æ–¥–µ–ª–∏ –¥–ª—è —É–≥–∞–¥—ã–≤–∞–Ω–∏—è –Ω–∞–º–µ—Ä–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    """
    corpus = []
    target_vector = []
    for intent_name, intent_data in config["intents"].items():
        for example in intent_data["examples"]:
            corpus.append(example)
            target_vector.append(intent_name)

    training_vector = vectorizer.fit_transform(corpus)
    classifier_probability.fit(training_vector, target_vector)
    classifier.fit(training_vector, target_vector)


def get_intent(request):
    """
    –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω–æ–≥–æ –Ω–∞–º–µ—Ä–µ–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    :param request: –∑–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    :return: –Ω–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω–æ–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ
    """
    best_intent = classifier.predict(vectorizer.transform([request]))[0]

    index_of_best_intent = list(classifier_probability.classes_).index(best_intent)
    probabilities = classifier_probability.predict_proba(vectorizer.transform([request]))[0]

    best_intent_probability = probabilities[index_of_best_intent]

    # –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –Ω–∞–º–µ—Ä–µ–Ω–∏–π —Å—Ç–æ–∏—Ç —É–º–µ–Ω—å—à–∞—Ç—å —ç—Ç–æ—Ç –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å
    if best_intent_probability > 0.57:
        return best_intentvectorizer = TfidfVectorizer(analyzer="char", ngram_range=(2, 3))
classifier_probability = LogisticRegression()
classifier = LinearSVC()
prepare_corpus()

while True:
    # —Å—Ç–∞—Ä—Ç –∑–∞–ø–∏—Å–∏ —Ä–µ—á–∏ —Å –ø–æ—Å–ª–µ–¥—É—é—â–∏–º –≤—ã–≤–æ–¥–æ–º —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω–æ–π —Ä–µ—á–∏ 
    # –∏ —É–¥–∞–ª–µ–Ω–∏–µ–º –∑–∞–ø–∏—Å–∞–Ω–Ω–æ–≥–æ –≤ –º–∏–∫—Ä–æ—Ñ–æ–Ω –∞—É–¥–∏–æ
    voice_input = record_and_recognize_audio()

    if os.path.exists("microphone-results.wav"):
        os.remove("microphone-results.wav")

    print(colored(voice_input, "blue"))

    # –æ—Ç–¥–µ–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –æ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (–∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤)
    if voice_input:
        voice_input_parts = voice_input.split(" ")

        # –µ—Å–ª–∏ –±—ã–ª–æ —Å–∫–∞–∑–∞–Ω–æ –æ–¥–Ω–æ —Å–ª–æ–≤–æ - –≤—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–º–∞–Ω–¥—É —Å—Ä–∞–∑—É 
        # –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
        if len(voice_input_parts) == 1:
            intent = get_intent(voice_input)
            if intent:
                config["intents"][intent]["responses"]()
            else:
                config["failure_phrases"]()

        # –≤ —Å–ª—É—á–∞–µ –¥–ª–∏–Ω–Ω–æ–π —Ñ—Ä–∞–∑—ã - –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–∏—Å–∫ –∫–ª—é—á–µ–≤–æ–π —Ñ—Ä–∞–∑—ã 
        # –∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ –∫–∞–∂–¥–æ–µ —Å–ª–æ–≤–æ,
        # –ø–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç –Ω–∞–π–¥–µ–Ω–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
        if len(voice_input_parts) > 1:
            for guess in range(len(voice_input_parts)):
                intent = get_intent((" ".join(voice_input_parts[0:guess])).strip())
                if intent:
                    command_options = [voice_input_parts[guess:len(voice_input_parts)]]
                    config["intents"][intent]["responses"](*command_options)
                    break
                if not intent and guess == len(voice_input_parts)-1:
                    config["failure_phrases"]()
temerlan123/temerlan123 is a ‚ú® special ‚ú® repository because its `README.md` (this file) appears on your GitHub profile.
You can click the Preview link to take a look at your changes.
--->
